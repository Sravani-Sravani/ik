<section class="light_bg">
		<div class="container">
			<div class="main_heading"><h1>Timeline</h1></div>
			<p>Below is the timeline of evolution of the Harmonized Master List of Infrastructure sub-sectors since 2012.</p>
				 <div class="main-timeline">
				 
<% 				 for(int i=2023;i<=2012;i--)
{
					List<HmlTimeline> reports=null;
  DynamicQuery dyq = null;
  try {
  	dyq = HmlTimelineLocalServiceUtil.dynamicQuery();
      dyq.addOrder(OrderFactoryUtil.desc("year"));
      dyq.add(RestrictionsFactoryUtil.eq("year", i));
      reports = HmlTimelineLocalServiceUtil.dynamicQuery(dyq, 0,
    		  HmlTimelineLocalServiceUtil.getHmlTimelinesCount());
  } catch (Exception e) {
      e.getMessage();
  }
  if(reports.size()>0)
  {
  %>
                             <div class="timeline">
								<div href="#" class="timeline-content" data-aos="fade-down" data-aos-duration="2000">
									<div class="timeline-year"><%=i%></div>
  
  <% 
       int y=1;
  for(HmlTimeline report:reports){
	  String fileUrl="";
	  String year=report.getYear();
	  String month=report.getMonth();
	  String hmlDescription =report.getHmlDescription(); 
	  if(languageId.equals("hi_IN")){
		  hmlDescription =report.getHi_hmlDescription(); 
		 }
	  long fileEntryId=report.getFileEntryId();
	  if(fileEntryId!=0L){
			try{
				fileUrl =HarmonizedMasterListPortlet.getFile(fileEntryId, themeDisplay.getScopeGroupId());	  
			}
			catch(Exception e){
				
			}
	  }
	  if(reports.size()==1){
		  %>
		  <h3 class="title"><%=month %></h3>
									<p class="description">
										<%=hmlDescription %>
									</p>
									<p><a href="<%=fileUrl %>" class="view_pdf" target="_blank"><i class="fa-solid fa-file-pdf"></i> View PDF</a></p>
		<%   
	  }else{
       %> 
       
				 		
									<div class="accordion accordion-flush" id="accordionFlushExample2017">
									  <div class="accordion-item">
										<h2 class="accordion-header" id="headingOne2017">
										  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne2017" aria-expanded="false" aria-controls="collapseOne">
											 <h3 class="title"><%=month %></h3>
										  </button>
										</h2>
										<div id="collapseOne2017" class="accordion-collapse collapse" aria-labelledby="headingOne2017" data-bs-parent="#accordionFlushExample2017">
										  <div class="accordion-body">
											 <p class="description"><%=hmlDescription %> </p>
											  <p><a href="<%=fileUrl %>" class="view_pdf" target="_blank"><i class="fa-solid fa-file-pdf"></i> View PDF</a></p>
											</div>
										</div>
									  </div>
									</div> <!--ACCORDION-->
									<%} }%>
								</div>
							</div>
<% y++;  }}%>
			</div> <!--maintimeline-->
		</div>
	</section>
